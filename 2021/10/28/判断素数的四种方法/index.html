<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>判断素数的四种方法 | 123</title><meta name="description" content="1.暴力破解实现描述12341.若传入的数字小于2,则不符合素数的定义,抛出相应的异常2.能够被除1与它本身以外的数整除的数,皆是非素数(即合数)3.除2以外的偶数,皆有多个因数,所以除2以外的偶数皆是非素数(即合数)4.数的最小因数必然不大于该数的平方根,通过计算平方根的结果进行循环可以避免不必要的计算流程 代码展示1234567891011121314151617181920212223242"><meta name="keywords" content="Java"><meta name="author" content="123"><meta name="copyright" content="123"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/123/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="判断素数的四种方法"><meta name="twitter:description" content="1.暴力破解实现描述12341.若传入的数字小于2,则不符合素数的定义,抛出相应的异常2.能够被除1与它本身以外的数整除的数,皆是非素数(即合数)3.除2以外的偶数,皆有多个因数,所以除2以外的偶数皆是非素数(即合数)4.数的最小因数必然不大于该数的平方根,通过计算平方根的结果进行循环可以避免不必要的计算流程 代码展示1234567891011121314151617181920212223242"><meta name="twitter:image" content="https://img-blog.csdnimg.cn/ee080d66b3cc46aa93af608c523e2bc8.png"><meta property="og:type" content="article"><meta property="og:title" content="判断素数的四种方法"><meta property="og:url" content="https://gao5805123.github.io/123/2021/10/28/%E5%88%A4%E6%96%AD%E7%B4%A0%E6%95%B0%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95/"><meta property="og:site_name" content="123"><meta property="og:description" content="1.暴力破解实现描述12341.若传入的数字小于2,则不符合素数的定义,抛出相应的异常2.能够被除1与它本身以外的数整除的数,皆是非素数(即合数)3.除2以外的偶数,皆有多个因数,所以除2以外的偶数皆是非素数(即合数)4.数的最小因数必然不大于该数的平方根,通过计算平方根的结果进行循环可以避免不必要的计算流程 代码展示1234567891011121314151617181920212223242"><meta property="og:image" content="https://img-blog.csdnimg.cn/ee080d66b3cc46aa93af608c523e2bc8.png"><meta property="article:published_time" content="2021-10-28T04:42:21.000Z"><meta property="article:modified_time" content="2021-10-28T04:47:34.573Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/123/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://gao5805123.github.io/123/2021/10/28/%E5%88%A4%E6%96%AD%E7%B4%A0%E6%95%B0%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95/"><link rel="prev" title="java.sql.SQLIntegrityConstraintViolationException：" href="https://gao5805123.github.io/123/2021/10/28/java.sql.SQLIntegrityConstraintViolationException%EF%BC%9A%20#23000/"><link rel="next" title="IDEA连接MySQL数据库报Server returns invalid timezone. Need to set 'serverTimezone' property." href="https://gao5805123.github.io/123/2021/06/29/IDEA%E8%BF%9E%E6%8E%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5Server%20returns%20invalid%20timezone.%20Need%20to%20set%20'serverTimezone'%20property./"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/123/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"123,邪丶魔狱","fontSize":"15px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="google-site-verification" content="pfcRZO1Gb4pmhedTsfidXjiu4Q25HFYON7GMwAXxEYQ" /><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/123/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/123/archives/"><div class="headline">文章</div><div class="length_num">196</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/123/tags/"><div class="headline">标签</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/123/categories/"><div class="headline">分类</div><div class="length_num">12</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/123/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/123/archives/"><i class="fa-fw fa fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/123/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/123/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/123/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/123/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/123/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-暴力破解"><span class="toc-number">1.</span> <span class="toc-text">1.暴力破解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#实现描述"><span class="toc-number">1.1.</span> <span class="toc-text">实现描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码展示"><span class="toc-number">1.2.</span> <span class="toc-text">代码展示</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-素数表判断"><span class="toc-number">2.</span> <span class="toc-text">2.素数表判断</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#实现描述-1"><span class="toc-number">2.1.</span> <span class="toc-text">实现描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码展示-1"><span class="toc-number">2.2.</span> <span class="toc-text">代码展示</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-埃拉托斯特尼-Eratosthenes-筛法"><span class="toc-number">3.</span> <span class="toc-text">3.埃拉托斯特尼(Eratosthenes)筛法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#实现描述-2"><span class="toc-number">3.1.</span> <span class="toc-text">实现描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码展示-2"><span class="toc-number">3.2.</span> <span class="toc-text">代码展示</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-欧拉筛法"><span class="toc-number">4.</span> <span class="toc-text">4.欧拉筛法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#实现描述-3"><span class="toc-number">4.1.</span> <span class="toc-text">实现描述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#代码展示-3"><span class="toc-number">4.2.</span> <span class="toc-text">代码展示</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://img-blog.csdnimg.cn/ee080d66b3cc46aa93af608c523e2bc8.png)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/123/">123</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/123/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/123/archives/"><i class="fa-fw fa fa-archive"></i><span> 档案</span></a></div><div class="menus_item"><a class="site-page" href="/123/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/123/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/123/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/123/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/123/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">判断素数的四种方法</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-10-28 12:42:21"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-10-28</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-10-28 12:47:34"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-10-28</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/123/categories/Java/">Java</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="1-暴力破解"><a href="#1-暴力破解" class="headerlink" title="1.暴力破解"></a><strong>1.暴力破解</strong></h1><h2 id="实现描述"><a href="#实现描述" class="headerlink" title="实现描述"></a><strong>实现描述</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.若传入的数字小于<span class="number">2</span>,则不符合素数的定义,抛出相应的异常</span><br><span class="line"><span class="number">2</span>.能够被除<span class="number">1</span>与它本身以外的数整除的数,皆是非素数(即合数)</span><br><span class="line"><span class="number">3</span>.除<span class="number">2</span>以外的偶数,皆有多个因数,所以除<span class="number">2</span>以外的偶数皆是非素数(即合数)</span><br><span class="line"><span class="number">4</span>.数的最小因数必然不大于该数的平方根,通过计算平方根的结果进行循环可以避免不必要的计算流程</span><br></pre></td></tr></table></figure>
<h2 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a><strong>代码展示</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeNumberUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOGGER = LoggerFactory.getLogger(PrimeNumberUtil<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 暴力求解&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 素数是大于1的自然数.除了1和它本身外,其他数都不是它的因子&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 2本身是素数,但除2以外的所有偶数都不是素数;也就是说除2以外,所有的质数都是奇数&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 非素数能够取余为0的最小因数不会超过它自身的平方根,若使用除法获取数的最小因数无法精确到位,从而造成不必要的循环</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> number 大于1的整数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 是否为素数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">violentSolution</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若数小于2,则输入错误 */</span></span><br><span class="line">        <span class="keyword">if</span> (number &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            LOGGER.error(<span class="string">"inputs that do not meet the definition of prime numbers"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (number != <span class="number">2</span> &amp;&amp; number % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span> <span class="comment">/* 数不等于2,且能被2取余为0,则该数不为质数 */</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 取余数从3开始,每次循环完加2,保证取余数一直是奇数,循环的最大次数为数的平方根 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= Math.sqrt(number); i += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="comment">/* 若数能被i取余为0,则该数不为质数 */</span></span><br><span class="line">            <span class="keyword">if</span> (number % i == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-素数表判断"><a href="#2-素数表判断" class="headerlink" title="2.素数表判断"></a><strong>2.素数表判断</strong></h1><h2 id="实现描述-1"><a href="#实现描述-1" class="headerlink" title="实现描述"></a><strong>实现描述</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.若传入的数字小于<span class="number">2</span>,则不符合素数的定义,抛出相应的异常</span><br><span class="line"><span class="number">2</span>.若素数表中的最大数小于传入数字的平方根,则无法判断该数是否为素数,只能计算其支持的平方根范围内的数</span><br><span class="line"><span class="number">3</span>.若传入的数在素数表中存在的,则它一定是素数</span><br><span class="line"><span class="number">4</span>.若传入的数小于素数表中的最大数,且在素数表中不存在,则它不为素数</span><br><span class="line"><span class="number">5</span>.能够被素数表中的数整除,则不为素数</span><br><span class="line"><span class="number">6</span>.当素数表中循环到的数大于传入数字的平方根时,该数即为素数,可以结束当前循环</span><br></pre></td></tr></table></figure>
<h2 id="代码展示-1"><a href="#代码展示-1" class="headerlink" title="代码展示"></a><strong>代码展示</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeNumberUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOGGER = LoggerFactory.getLogger(PrimeNumberUtil<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/** 0~100之间的所有质数 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> List&lt;Integer&gt; PRIME_NUMBERS;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line"></span><br><span class="line">        PRIME_NUMBERS = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">2</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">3</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">5</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">7</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">11</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">13</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">17</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">19</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">23</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">29</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">31</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">37</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">41</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">43</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">47</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">53</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">59</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">61</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">67</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">71</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">73</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">79</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">83</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">89</span>);</span><br><span class="line">        PRIME_NUMBERS.add(<span class="number">97</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用素数表判断素数&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 素数是大于1的自然数.除了1和它本身外,其他数都不是它的因子&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 一个数如果不能整除比该数平方根小的任何素数,那么这个数就是素数&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 如果素数表中的最大值小于数的平方根,那么将无法保证判断出数是否是正确的素数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> number 大于1的整数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 是否为素数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">primalityJudgmentPrimeNumber</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若数小于2,则输入错误 */</span></span><br><span class="line">        <span class="keyword">if</span> (number &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            LOGGER.error(<span class="string">"inputs that do not meet the definition of prime numbers"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> squareRoot = (<span class="keyword">int</span>) Math.sqrt(number) <span class="comment">/* 数的平方根 */</span>;</span><br><span class="line"></span><br><span class="line">        Integer maximumPrimeNumber = PRIME_NUMBERS.get(PRIME_NUMBERS.size() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若数的平方根大于素数表的最大数,则无法对该数进行素数判断 */</span></span><br><span class="line">        <span class="keyword">if</span> (maximumPrimeNumber &lt; squareRoot) &#123;</span><br><span class="line">            LOGGER.error(<span class="string">"beyond the scope of judgment"</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若素数集合中不存在该数,则无法在此判断出该数是否为素数 */</span></span><br><span class="line">        <span class="keyword">if</span> (!PRIME_NUMBERS.contains(number)) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (maximumPrimeNumber &gt; number) <span class="keyword">return</span> <span class="keyword">false</span> <span class="comment">/* 若素数表中的最大数大于传入的数字,则该数为非素数 */</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">/* 循环素数表 */</span></span><br><span class="line">            <span class="keyword">for</span> (Integer primeNumber : PRIME_NUMBERS) &#123;</span><br><span class="line">                <span class="keyword">if</span> (primeNumber &gt; squareRoot) <span class="keyword">break</span> <span class="comment">/* 当前从素数表中拿出的数大于数的平方根时,该数为质数,无需进行后续判断 */</span>;</span><br><span class="line">                <span class="keyword">if</span> (number % primeNumber == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span> <span class="comment">/* 数取余素数表中的数等于0时,该数不为素数 */</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-埃拉托斯特尼-Eratosthenes-筛法"><a href="#3-埃拉托斯特尼-Eratosthenes-筛法" class="headerlink" title="3.埃拉托斯特尼(Eratosthenes)筛法"></a><strong>3.埃拉托斯特尼(Eratosthenes)筛法</strong></h1><h2 id="实现描述-2"><a href="#实现描述-2" class="headerlink" title="实现描述"></a><strong>实现描述</strong></h2><blockquote>
<p>有0 1 2 3 4 5 6 7 8 9 10,11个数想要获取其中的素数</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.先将不符合素数定义的数去除,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">true</span></span><br><span class="line"><span class="number">2</span>.用<span class="number">2</span>将其倍数去除,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span></span><br><span class="line"><span class="number">3</span>.用<span class="number">3</span>将其倍数去除,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">false</span></span><br><span class="line"><span class="number">4</span>.由于素数除<span class="number">2</span>以外,皆是奇数,跳过<span class="number">4</span>直接判断<span class="number">5</span>,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">false</span></span><br><span class="line"><span class="number">5</span>.跳过<span class="number">6</span>直接判断<span class="number">7</span>,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">false</span></span><br><span class="line"><span class="number">6</span>.跳过<span class="number">8</span>直接判断<span class="number">9</span>,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span>,也就是: <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">true</span> <span class="keyword">false</span> <span class="keyword">false</span> <span class="keyword">false</span></span><br><span class="line"><span class="number">7</span>.跳过<span class="number">10</span>直接判断<span class="number">11</span>,因<span class="number">11</span>大于<span class="number">10</span>,循环结束</span><br></pre></td></tr></table></figure>
<h2 id="代码展示-2"><a href="#代码展示-2" class="headerlink" title="代码展示"></a><strong>代码展示</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 普通筛法 ------- 埃拉托斯特尼(Eratosthenes)筛法&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 将max范围内属于素数倍数的数剔除,剩余的即为素数&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 布尔数组默认值为false,把从索引2开始到数组末尾的元素全部改为true,表示后续的数需要进行判断才能够确定是否为素数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> max 获取素数的最大范围,从0开始到max结束</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 素数集合</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">ordinarySieve</span><span class="params">(<span class="keyword">int</span> max)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;() <span class="comment">/* 素数集合 */</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若数小于2,则输入错误 */</span></span><br><span class="line">        <span class="keyword">if</span> (max &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            LOGGER.error(<span class="string">"inputs that do not meet the definition of prime numbers"</span>);</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span>[] judgmentSet = <span class="keyword">new</span> <span class="keyword">boolean</span>[max + <span class="number">1</span>] <span class="comment">/* 布尔数组的默认值为false */</span>;</span><br><span class="line"></span><br><span class="line">        Arrays.fill(judgmentSet, <span class="number">2</span>, judgmentSet.length, <span class="keyword">true</span>) <span class="comment">/* 将数组中索引2到末尾的元素改为true */</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> primary = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 当primary大于max时,结束循环 */</span></span><br><span class="line">        <span class="keyword">while</span> (primary &lt;= max) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 将是primary倍数的对应索引的值改为false */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = primary * primary; i &lt; judgmentSet.length &amp;&amp; i &gt;= primary; i += primary) judgmentSet[i] = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">            primary++;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 在primary的值小于judgmentSet长度的情况下,若judgmentSet当前索引的值为false,就进行自增操作,表示该索引位置的值不需要进行判断 */</span></span><br><span class="line">            <span class="keyword">while</span> (primary &lt; judgmentSet.length &amp;&amp; !judgmentSet[primary]) primary++;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 当primary大于等于judgmentSet的长度时,结束循环 */</span></span><br><span class="line">            <span class="keyword">if</span> (primary &gt;= judgmentSet.length) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 循环judgmentSet数组 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; judgmentSet.length; i++) &#123;</span><br><span class="line">            <span class="comment">/* 若当前索引中的元素为true,则将当前索引添加到集合中 */</span></span><br><span class="line">            <span class="keyword">if</span> (judgmentSet[i]) &#123;</span><br><span class="line">                list.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        LOGGER.info(<span class="string">"0~&#123;&#125;之间有&#123;&#125;个素数, 分别为: &#123;&#125;,耗时: &#123;&#125;毫秒"</span>, max, list.size(), list, System.currentTimeMillis() - start);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-欧拉筛法"><a href="#4-欧拉筛法" class="headerlink" title="4.欧拉筛法"></a><strong>4.欧拉筛法</strong></h1><h2 id="实现描述-3"><a href="#实现描述-3" class="headerlink" title="实现描述"></a><strong>实现描述</strong></h2><blockquote>
<p>有0 1 2 3 4 5 6 7 8 9 10,11个数想要获取其中的素数</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.先将不符合素数定义的数去除,得到: <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span>.将<span class="number">2</span>放入素数集合中,使用素数表中的数与其相乘,素数集合: <span class="number">2</span>,剩余: <span class="number">3</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span>.将<span class="number">3</span>放入素数集合中,使用素数表中的数与其相乘,素数集合: <span class="number">2</span> <span class="number">3</span>,剩余: <span class="number">5</span> <span class="number">7</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">4.4</span>已被删除,但要去除其平方以内的倍数,使用素数表中的数与其相乘,由于<span class="number">3</span>乘以<span class="number">4</span>大于<span class="number">10</span>,循环会在此时结束,素数集合: <span class="number">2</span> <span class="number">3</span>,剩余: <span class="number">5</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span>.将<span class="number">5</span>放入素数集合中,使用素数表中的数与其相乘,由于<span class="number">3</span>乘以<span class="number">5</span>大于<span class="number">10</span>,循环会在此时结束,素数集合: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span>,剩余: <span class="number">7</span></span><br><span class="line"><span class="number">6.6</span>已被删除,但要去除其平方以内的倍数,使用素数表中的数与其相乘,由于<span class="number">2</span>乘以<span class="number">6</span>大于<span class="number">10</span>,循环会在此时结束,素数集合: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span>,剩余: <span class="number">7</span></span><br><span class="line"><span class="number">7</span>.将<span class="number">7</span>放入素数集合中,使用素数表中的数与其相乘,由于<span class="number">2</span>乘以<span class="number">7</span>大于<span class="number">10</span>,循环会在此时结束,素数集合: <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span>,至此循环就应该结束</span><br></pre></td></tr></table></figure>
<h2 id="代码展示-3"><a href="#代码展示-3" class="headerlink" title="代码展示"></a><strong>代码展示</strong></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimeNumberUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger LOGGER = LoggerFactory.getLogger(PrimeNumberUtil<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 线性筛法 ------- 欧拉筛法&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 剔除被判断为非素数的数,避免重复判断&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 将判断为素数的数存储到集合中&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 将数与素数集合中的数相乘获取到非素数的数,将布尔数组中对应索引处的值改为false&lt;br&gt;</span></span><br><span class="line"><span class="comment">     * 为了避免重复判断,当素数集合中的数等于数本身时,结束循环,即数取余素数集合中的数等于0时(素数集合中的数都为素数,只有当数与集合中的某一个数相等时,才会主动结束循环,否则只能等循环自动结束)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> max 获取素数的最大范围,从0开始到max结束</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 素数集合</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">linearSieve</span><span class="params">(<span class="keyword">int</span> max)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;() <span class="comment">/* 素数集合 */</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* 若数小于2,则输入错误 */</span></span><br><span class="line">        <span class="keyword">if</span> (max &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            LOGGER.error(<span class="string">"inputs that do not meet the definition of prime numbers"</span>);</span><br><span class="line">            <span class="keyword">return</span> list;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">boolean</span>[] judgmentSet = <span class="keyword">new</span> <span class="keyword">boolean</span>[max + <span class="number">1</span>] <span class="comment">/* 布尔数组的默认值为false */</span>;</span><br><span class="line"></span><br><span class="line">        Arrays.fill(judgmentSet, <span class="number">2</span>, judgmentSet.length, <span class="keyword">true</span>) <span class="comment">/* 将数组中索引2到末尾的元素改为true */</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= max; i++) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (judgmentSet[i]) list.add(i) <span class="comment">/* 若当前索引的值为true,则将其添加到集合中 */</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">/* 在索引值小于集合长度,且i索引值乘以集合中当前索引的值不大于max值的情况下循环素数集合 */</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; list.size() &amp;&amp; i * list.get(j) &lt;= max; j++) &#123;</span><br><span class="line">                judgmentSet[i * list.get(j)] = <span class="keyword">false</span> <span class="comment">/* 将i与集合中当前索引值相乘索引处的元素改为false */</span>;</span><br><span class="line">                <span class="keyword">if</span> (i == list.get(j)) <span class="keyword">break</span> <span class="comment">/* 集合中当前索引处值的平方等于i时,结束循环 */</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        LOGGER.info(<span class="string">"0~&#123;&#125;之间有&#123;&#125;个素数, 分别为: &#123;&#125;,耗时: &#123;&#125;毫秒"</span>, max, list.size(), list, System.currentTimeMillis() - start);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">123</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://gao5805123.github.io/123/2021/10/28/%E5%88%A4%E6%96%AD%E7%B4%A0%E6%95%B0%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95/">https://gao5805123.github.io/123/2021/10/28/%E5%88%A4%E6%96%AD%E7%B4%A0%E6%95%B0%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%96%B9%E6%B3%95/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://gao5805123.github.io/123" target="_blank">123</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/123/tags/Java/">Java</a></div><div class="post_share"><div class="social-share" data-image="https://img-blog.csdnimg.cn/882c71fb3e0b42569f334d5f13fa61a4.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/123/img/WeChat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/123/img/PayTreasure.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/123/2021/10/28/java.sql.SQLIntegrityConstraintViolationException%EF%BC%9A%20#23000/"><img class="prev_cover lazyload" data-src="https://img-blog.csdnimg.cn/39298d9e2c1a4c1dad02deb78aea82fe.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">java.sql.SQLIntegrityConstraintViolationException：</div></div></a></div><div class="next-post pull_right"><a href="/123/2021/06/29/IDEA%E8%BF%9E%E6%8E%A5MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%A5Server%20returns%20invalid%20timezone.%20Need%20to%20set%20'serverTimezone'%20property./"><img class="next_cover lazyload" data-src="https://img-blog.csdnimg.cn/20210629150059258.png" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">IDEA连接MySQL数据库报Server returns invalid timezone. Need to set 'serverTimezone' property.</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/123/2021/06/29/ConcurrentHashMap/" title="ConcurrentHashMap"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20210629110659535.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-06-29</div><div class="relatedPosts_title">ConcurrentHashMap</div></div></a></div><div class="relatedPosts_item"><a href="/123/2020/05/03/ConnectExceptionConnection refusedno further information&java.nio.channels.ClosedChannelException/" title="ConnectExceptionConnection refusedno further information和java.nio.channels.ClosedChannelException"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20200514014118248.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-03</div><div class="relatedPosts_title">ConnectExceptionConnection refusedno further information和java.nio.channels.ClosedChannelException</div></div></a></div><div class="relatedPosts_item"><a href="/123/2020/05/04/ClassCastException com.gao5805123.servlet.ServletDemo cannot be cast to javax.servlet.Servlet/" title="ClassCastException com.gao5805123.servlet.ServletDemo cannot be cast to javax.servlet.Servlet"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20200504144626989.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-04</div><div class="relatedPosts_title">ClassCastException com.gao5805123.servlet.ServletDemo cannot be cast to javax.servlet.Servlet</div></div></a></div><div class="relatedPosts_item"><a href="/123/2020/05/04/CommunicationsException Communications link failure和java.net.ConnectException Connection refused connect/" title="CommunicationsException Communications link failure和java.net.ConnectException Connection refused connect"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20200504180214734.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-04</div><div class="relatedPosts_title">CommunicationsException Communications link failure和java.net.ConnectException Connection refused connect</div></div></a></div><div class="relatedPosts_item"><a href="/123/2020/05/04/BeanCreationException和IllegalStateException Ambiguous mapping. Cannot map 'brandController' method/" title="org.springframework.beans.factory.BeanCreationException Error creating bean with name requestMappingHandlerMapping defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class] Invocation of init method failed; nested exception is java.lang.IllegalStateException Ambiguous mapping. Cannot map brandController method"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20200504174150440.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-04</div><div class="relatedPosts_title">org.springframework.beans.factory.BeanCreationException Error creating bean with name requestMappingHandlerMapping defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class] Invocation of init method failed; nested exception is java.lang.IllegalStateException Ambiguous mapping. Cannot map brandController method</div></div></a></div><div class="relatedPosts_item"><a href="/123/2020/05/04/CannotGetJdbcConnectionException、SQLException和com.mysql.cj.exceptions.InvalidConnectionAttributeException The server time zone value is unrecognized or represents more than one time zone/" title="CannotGetJdbcConnectionException、SQLException和InvalidConnectionAttributeException The server time zone value is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support"><img class="relatedPosts_cover lazyload"data-src="https://img-blog.csdnimg.cn/20200514020018559.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-05-04</div><div class="relatedPosts_title">CannotGetJdbcConnectionException、SQLException和InvalidConnectionAttributeException The server time zone value is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support</div></div></a></div></div><div class="clear_both"></div></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By 123</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">感谢你的关注</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/123/js/utils.js"></script><script src="/123/js/main.js"></script><script src="/123/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/123/js/third-party/ClickShowText.js"></script><script src="/123/js/search/local-search.js"></script><script src="/123/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/123/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":145,"height":315},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.8},"dialog":{"enable":true,"hitokoto":true},"log":false});</script></body></html>